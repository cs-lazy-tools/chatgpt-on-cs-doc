---
sidebar_position: 2
---

# 知识库
用户可以自己上传资料，来让应用能获取特定和个性化的回答。

## 创建知识库
首先，准备一份电子文档作为测试材料，这可以是任何非机密性的文件，比如公司的休假政策、销售脚本、产品说明等。举例来说，我们这里使用 “致命公司” 这款最近爆火的游戏说明文件进行演示。

import React from 'react';

export const DownloadButton = ({ url, label }) => {
  return (
    <a href={url} download className="button button--primary">
      {label}
    </a>
  );
};

<DownloadButton url="https://lazybox.oss-cn-shenzhen.aliyuncs.com/file/%E8%87%B4%E5%91%BD%E5%85%AC%E5%8F%B8.docx" label="下载测试文件" />


点击按钮下载测试文件

步骤一：首先，在 “懒人百宝箱” 中创建一个新的知识库。

![](https://image.alsritter.icu/img202401111125124.png)

步骤二：接下来，需要向这个知识库中上传内容。上传内容有四种不同的模式可供选择：

* 手动输入：这种方式允许你手动输入问题和答案，这是最精准的方法。
* QA 拆分：通过选择一个文本文件，让 AI 自动根据内容生成问答对（比较慢）。
* 直接分段：选择文本文件后，系统会直接按照文件中的段落进行分割处理。
* CSV 导入：如果你有大量的问答数据，可以通过 CSV 文件批量导入。

在这个例子中，我们选择 “QA拆分” 模式，让 AI 自动生成问答对。这个过程中，如果 AI 生成的问答对质量不高，你可以在之后进行手动修改和优化。

![](https://image.alsritter.icu/img202401111127555.png)

步骤三：完成文件上传后，系统会开始处理数据。你需要等待直到上传的文件状态变为“可用”，这意味着文件已被成功处理并且可以被用来回答问题。

![](https://image.alsritter.icu/img202401111127113.png)

现在可以点进去查看生成的 QA 问答对：

![](https://image.alsritter.icu/img202401111128331.png)

## 使用知识库
继续之前的步骤，我们已经在 “懒人百宝箱” 中创建并上传了内容到知识库。接下来是将知识库应用到实际的对话中。

步骤四：在 “懒人百宝箱” 中，点击「应用」按钮来创建一个新的应用。在创建应用的过程中，会出现四个预设的模板选项。在这里，我们选择「知识库 + 对话引导」模板，因为这个模板能结合我们刚刚创建的知识库来进行智能对话。

![](https://image.alsritter.icu/img202401111130511.png)

步骤五：应用创建完成后，进入应用详情页面，在这里找到「知识库」模块。然后，将我们之前创建的知识库添加到这个应用中。

![](https://image.alsritter.icu/img202401111131721.png)

步骤六：添加知识库之后，别忘了点击「保存并预览」按钮。这一步是非常重要的，因为它确保了我们的应用与知识库成功关联，从而使应用能够利用知识库中的内容进行对话。

![](https://image.alsritter.icu/img202401111132706.png)

步骤七：一切设置完成后，我们就可以开始使用这个应用进行对话了。现在，你可以测试这个应用，看看它是如何利用我们上传的知识库内容来回答相关问题的。

![](https://image.alsritter.icu/img202401111133161.png)

![](https://image.alsritter.icu/img202401111134772.png)

通过这些步骤，我们成功地将“懒人百宝箱”中的知识库与一个对话应用关联起来，可以开始愉快地探索和使用它了。

## （了解）知识库的原理
这里简单介绍下这个知识库的工作原理，可以只做了解。

LLM（Large Language Model，大型语言模型）使用向量数据库回答问题的过程可以简要概括如下：

1. **理解问题**：当收到一个问题时，LLM首先需要理解这个问题的内容。这通常涉及到分析问题中的关键词和意图。

2. **转换为向量**：LLM会将理解到的问题转换为一个高维空间中的向量。这个向量是问题的数学表达，可以用来在向量数据库中进行匹配和搜索。

3. **向量数据库搜索**：向量数据库中存储了大量信息的向量表示。这些向量可能代表了不同的知识点、事实、文档或其他数据。LLM会在这个数据库中搜索与问题向量最接近的向量。

4. **找到最相关的信息**：通过计算问题向量与数据库中各个向量之间的相似度，LLM确定哪些信息与提出的问题最相关。

5. **提取并生成回答**：一旦找到最相关的信息，LLM会提取这些信息，并结合其预训练的知识和语言理解能力，生成一个合适的、针对性的回答。

6. **输出回答**：最后，LLM将生成的回答以文本形式输出给用户。

